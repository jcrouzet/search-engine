package Search;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Collections;
import java.util.Comparator;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.SortedMap;
import java.util.TreeMap;
import java.util.stream.Collectors;
import java.util.stream.Stream;
import java.util.HashSet;



import tools.Normalizer;

public class WeightsQuery {

	

	public File corpus;
	public Normalizer normalizer;
	public  File index_; 
	public String query ; 
		public WeightsQuery (Normalizer normalizer, File corpus , File index_ , String query)
	{
		this.normalizer = normalizer;

		this.corpus = corpus;
		this.index_ = index_;
		this.query = query ;
	}
	
	ArrayList<String>words = normalizer.normalize(query);
	HashSet<String> wordInFiles = new HashSet<String>(words) ;
	// BufferedReader br_if = new BufferedReader(index_.getAbsolutePath());
	// BufferedReader br = new BufferedReader(new FileReader(this.index_));
	
	BufferedReader br = new BufferedReader(new FileReader(this.index_));
	
	public HashMap<String,Integer> getTerm () throws IOException
	{	

 HashMap <String , Integer> tf =  new HashMap <String ,Integer> () ; 

		if (corpus.isDirectory()) {
	 for (String term : wordInFiles) {
		 term =  term.toLowerCase();
		Integer value =  Collections.frequency(words, term);
			
		 tf.put (term , value) ;
		 
		}
	
	 }
	return tf;
	}
	 HashMap <String , Integer> idf =  new HashMap <String ,Integer> () ; 
	
	 
	 {
		
		 
		 
		 
	 }
	
	
	

	
}
